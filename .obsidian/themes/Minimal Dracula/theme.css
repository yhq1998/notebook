/* ==
@name             Minimal Dracula
@namespace        github.com/druxorey/minimal-dracula-for-obsidian
@version          1.5.0
@description      Are you tired of the same boring colors on Obsidian? Then try this modern color style based on the Dracula theme
@author           Druxorey
@license          GNU General Public License v3.0
== */

/* ============================ COLORSCHEME ========================== */

:root {
	--color-comment: #6272A4;

	--color-red-1:#FF6E6E;
	--color-red-2: #FF5555;
	--color-red-3: #E63C3C;
	--color-orange-1: #FFD185;
	--color-orange-2: #FFB86C;
	--color-orange-3: #E69F53;
	--color-yellow-1: #FFFFA5;
	--color-yellow-2: #F1FA8C;
	--color-yellow-3: #D8E173;
	--color-green-1: #69FF94;
	--color-green-2: #50FA7B;
	--color-green-3: #37EB62; 
	--color-cyan-1: #A4FFFF;
	--color-cyan-2: #8BE9FD;
	--color-cyan-3: #72D0E4;
	--color-blue-1: #6DCCFF;
	--color-blue-2: #54B3FF;
	--color-blue-3: #3B9AE6;
	--color-purple-1: #D6ACFF;
	--color-purple-2: #BD93F9;
	--color-purple-3: #A47AE0;
	--color-pink-1: #FF92DF;
	--color-pink-2: #FF79C6;
	--color-pink-3: #E660AD;

	--color-callout-comment: 98, 114, 164;
	--color-callout-red: 255, 85, 85;
	--color-callout-orange: 255, 184, 108;
	--color-callout-yellow: 241, 250, 140;
	--color-callout-green: 80, 250, 123;
	--color-callout-cyan: 139, 233, 253;
	--color-callout-purple: 189, 147, 249;
	--color-callout-pink: 255, 121, 198;
}

/* ========================== OBSIDIAN VALUES ======================== */

body {
	--color-accent: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
	--color-accent-highlight: hsl(var(--accent-h), calc(var(--accent-s) - 20%), calc(var(--accent-l) + 10%));

	--h1-weight: 600;
	--h2-weight: 600;
	--h3-weight: 600;
	--h4-weight: 500;
	--h5-weight: 500;
	--h6-weight: 500;

	--h1-size: 1.50em;
	--h2-size: 1.35em;
	--h3-size: 1.20em;
	--h4-size: 1.15em;
	--h5-size: 1.10em;
	--h6-size: 1.05em;

	--h1-line-height: 1.00em;
	--h2-line-height: 1.00em;
	--h3-line-height: 1.00em;
	--h4-line-height: 1.00em;
	--h5-line-height: 1.00em;
	--h6-line-height: 1.00em;

	--code-comment: var(--color-comment);
	--code-function: var(--color-green-2);
	--code-important: var(--color-red-2);
	--code-keyword: var(--color-pink-2);
	--code-operator: var(--color-red-2);
	--code-property: var(--color-orange-2);
	--code-string: var(--color-yellow-2);
	--code-tag: var(--color-red-2);
	--code-value: var(--color-purple-2);

	--tag-color: var(--color-accent);

	--link-color: var(--color-accent);
	--link-color-hover: var(--color-accent-highlight);
	--link-external-color: var(--color-accent);
	--link-external-color-hover: var(--color-accent-highlight);
	--link-unresolved-color: var(--color-green-2);
	--link-unresolved-decoration-color: var(--color-red-2);
	--link-unresolved-opacity: 0.5;
	--checklist-done-decoration: none;

	--callout-default: var(--color-callout-comment);
	--callout-info: var(--color-callout-comment);
	--callout-summary: var(--color-callout-cyan);
	--callout-tip: var(--color-callout-cyan);
	--callout-todo: var(--color-callout-comment);
	--callout-bug: var(--color-callout-red);
	--callout-error: var(--color-callout-red);
	--callout-fail: var(--color-callout-red);
	--callout-example: var(--color-callout-pink);
	--callout-important: var(--color-callout-purple);
	--callout-success: var(--color-callout-green);
	--callout-question: var(--color-callout-yellow);
	--callout-warning: var(--color-callout-orange);
	--callout-quote: var(--color-callout-purple);
}

/* ============================ DARK THEME =========================== */

body.theme-dark {
	--color-background-1: #525568;
	--color-background-2: #44475A;
	--color-background-3: #2F313F;
	--color-background-4: #282A36;
	--color-background-5: #1E1F29;

	--color-foreground-1: #F8F8F2;
	--color-foreground-2: #9e9fa6;
	--color-foreground-3: #5a5d6d;

	--color-shadow-1: #2F313F;
	--color-shadow-2: #1E1F29;
	--color-shadow-3: #1A1B23;

	color: var(--color-foreground-1);
	
	--bold-color: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
	--text-selection: hsla(var(--accent-h), var(--accent-s), 70%, 0.25);

	--color-base-00: var(--color-background-5);
	--color-base-10: var(--color-background-3);
	--color-base-20: var(--color-background-5);
	--color-base-25: var(--color-background-5);
	--color-base-30: var(--color-background-5);
	--color-base-35: var(--color-background-2);
	--color-base-40: var(--color-background-2);
	--color-base-50: var(--color-background-1);
	--color-base-60: blue;
	--color-base-70: var(--color-foreground-2);
	--color-base-100: var(--color-foreground-1);

	--hr-color: var(--color-background-1);
	--nav-item-background-active: var(--color-accent);
	--ribbon-background: var(--color-background-4);
	--status-bar-background: var(--color-background-4);
	--table-header-background: var(--color-background-3);
	--titlebar-background: var(--color-background-5);
}

body.theme-dark.is-mobile {
	--color-base-00: var(--color-background-5);
	--color-base-10: var(--color-background-4);
	--color-base-20: var(--color-background-3);
}

/* Background color of the application */
body.theme-dark {
	background-color: var(--color-background-5);
}

/* Sets a different background color for all panels */
.theme-dark .workspace-leaf-content {
	background-color: var(--color-background-4);
}

/* Background color for navigation headers */
.theme-dark .nav-header {
	background-color: var(--color-background-5);
}

/* Background color for the panel where text is written */
.theme-dark .workspace-split.mod-root .view-content {
	background-color: var(--color-background-4);
}

/* Background color for markdown table headers */
.theme-dark .markdown-rendered thead tr {
	background: var(--color-background-3);
}

/* Fixes the title bar color issue in dark mode */
.theme-dark .titlebar-button {
	background-color: var(--color-background-5);
}

/* Sets markdown links to cyan color */
.theme-dark .markdown-source-view .cm-string.cm-url {
	color: var(--color-cyan-2);
}

/* Adds custom styling for input fields */
.theme-dark textarea,
.theme-dark input.metadata-input-text,
.theme-dark input[type='date'],
.theme-dark input[type='datetime-local'],
.theme-dark input[type='text'],
.theme-dark input[type='search'],
.theme-dark input[type='email'],
.theme-dark input[type='password'],
.theme-dark input[type='number'] {
	background-color: var(--color-background-5);
}

/* ============================ LIGHT THEME ========================== */

body.theme-light {
	--color-background-1: #F4F4F6;
	--color-background-2: #DDDDE3;
	--color-background-3: #C7C8D1;
	--color-background-4: #A5A7B6;
	--color-background-5: #8F91A3;

	--color-foreground-1: #44475A;
	--color-foreground-2: #7E808E;
	--color-foreground-3: #B9BAC2;

	--color-shadow-1: #DDDDE3;
	--color-shadow-2: #A5A7B6;
	--color-shadow-3: #8F91A3;

	color: var(--color-foreground-1);
	
	--bold-color: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
	--text-selection: hsla(var(--accent-h), var(--accent-s), 70%, 0.25);

	--color-base-00: var(--color-background-2);
	--color-base-10: var(--color-background-2);
	--color-base-20: var(--color-background-2);
	--color-base-25: blue;
	--color-base-30: var(--color-background-2);
	--color-base-35: var(--color-background-5);
	--color-base-40: var(--color-background-5);
	--color-base-50: var(--color-foreground-1);
	--color-base-60: green;
	--color-base-70: var(--color-foreground-1);
	--color-base-80: blue;
	--color-base-90: blue;
	--color-base-100: var(--color-foreground-1);

	--hr-color: var(--color-background-3);
	--nav-item-background-active: var(--color-accent);
	--ribbon-background: var(--color-background-2);
	--status-bar-background: var(--color-background-3);
	--table-header-background: var(--color-background-3);
	--titlebar-background: var(--color-background-3);
}

body.theme-light.is-mobile {
	--color-base-00: var(--color-background-5);
	--color-base-10: var(--color-background-4);
	--color-base-20: var(--color-background-3);
}

/* Background color of the application */
body.theme-light {
	background-color: var(--color-background-3);
}

/* Sets a different background color for all panels */
.theme-light .workspace-leaf-content {
	background-color: var(--color-background-1);
}

/* Background color for navigation headers */
.theme-light .nav-header {
	background-color: var(--color-background-2);
}

/* Background color for the panel where text is written */
.theme-light .workspace-split.mod-root .view-content {
	background-color: var(--color-background-1);
}

/* Background color for markdown table headers */
.theme-light .markdown-rendered thead tr {
	background: var(--color-background-3);
}

/* Fixes the title bar color issue in light mode */
.theme-light .workspace-tab-header-container, .titlebar-button {
	background-color: var(--color-background-2);
}

/* Sets markdown links to blue color */
.theme-light .markdown-source-view .cm-string.cm-url {
	color: var(--color-blue-2);
	background-color: var(--color-background-1);
}

/* Adds custom styling for input fields */
.theme-light textarea,
.theme-light input.metadata-input-text,
.theme-light input[type='date'],
.theme-light input[type='datetime-local'],
.theme-light input[type='text'],
.theme-light input[type='search'],
.theme-light input[type='email'],
.theme-light input[type='password'],
.theme-light input[type='number'] {
	background-color: var(--color-background-2);
}

/* ========================== GENERAL STYLING ======================== */

/* Rounds the corners of all panels */
.workspace-tab-container {
	margin: 10px;
	border-radius: 10px;
	box-shadow: 0 0 10px var(--color-shadow-3);
}

/* Prevents layout issues when the writing panel is too small */
.workspace-split.mod-root .view-content {
	overflow-y: scroll;
}

/* Adds rounded corners to navigation headers */
.nav-header {
	margin: 10px;
	border-radius: 10px;
}

/* Sets the width of the writing panel to match a document's width */
.workspace-split.mod-vertical.mod-root .workspace-tab-container {
	margin: 20px auto;
	margin-top: 10px;
	margin-bottom: 10px;
	width: calc(100% - 2vw);
	max-width: 1000px;
}

/* Justifies text in reading mode */
.markdown-preview-view p {
	text-align: justify;
	text-justify: inter-word;
}

/* Adds a border to the entire application */
body:not(.is-mobile) .workspace {
	position: relative;
	overflow: visible;
	padding: 8px;
}

/* Prevents table size issues when content is too large */
body {
	--table-width: 88cqw;
}

body:not(.table-width-obsidian-default) .markdown-source-view.mod-cm6 .cm-table-widget .table-wrapper,
body:not(.table-width-obsidian-default) :is(.markdown-rendered, .markdown-source-view.mod-cm6.is-live-preview) table {
	width: 100% !important;
}

.markdown-source-view,
.markdown-reading-view {
	container-type: inline-size;
}

.table-width-customized .markdown-source-view.mod-cm6.is-live-preview .cm-content>.cm-table-widget,
.table-width-customized .markdown-rendered .markdown-preview-sizer>div:has(>table) {
	overflow: auto;
	width: 200rem !important;
	margin-left: calc(200rem - 100%) / -2) !important;
}

@media (max-width: 900px) {

	/* Adjusts the status bar background for dark mode */
	body.theme-dark {
		--status-bar-background: var(--color-background-3);
	}

	/* Adjusts the status bar background for light mode */
	body.theme-light {
		--status-bar-background: var(--color-background-3);
	}

	/* Removes border radius and adjusts margins for small screens */
	.workspace-split.mod-root .view-content {
		border-radius: 0px;
		margin: 0vh 0vw;
		width: calc(100%);
	}

	/* Removes padding for the horizontal main container on non-mobile devices */
	body:not(.is-mobile) .horizontal-main-container {
		padding-bottom: 0px;
	}

	/* Removes margins for the workspace on non-mobile devices */
	body:not(.is-mobile) .workspace {
		margin: 0px;
	}
}

@media print {
	/* Adjusts styles for printing in light mode */
	.theme-light {
		--blockquote-background-color: red;
		--code-background: var(--color-background-2);
		--table-header-background: blue;
	}
}
